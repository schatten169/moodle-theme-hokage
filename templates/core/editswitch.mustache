
<a href="#" class="btn btn-icon btn-borderless btn-color-white btn-active-primary bg-white bg-opacity-10" data-kt-menu-trigger="click" data-kt-menu-attach="parent" data-kt-menu-placement="bottom-end">
    <i class="ki-duotone ki-setting-2 fs-2">
        <span class="path1"></span>
        <span class="path2"></span>
    </i>
</a>
<div class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-title-gray-700 menu-icon-gray-500 menu-active-bg menu-state-color fw-semibold py-4 fs-base w-150px" data-kt-menu="true" id="edit-mode-menu">
    <div class="menu-item px-3 my-0">
        <a onclick="$('#{{uniqid}}-editingswitch').attr('checked', !$('#{{uniqid}}-editingswitch').attr('checked')); $('#edit-mode-toggle').submit();" class="menu-link px-3 py-2">
            <span class="menu-title">{{#str}} editmode {{/str}}</span>
            <span class="d-flex my-auto" data-kt-element="icon">
                {{# checked }}
                    <i class="ki-duotone ki-toggle-on-circle text-primary fs-2">
                        <span class="path1"></span>
                        <span class="path2"></span>
                    </i>
                {{/ checked }}
                {{^ checked }}
                    <i class="ki-duotone ki-toggle-off-circle fs-2">
                        <span class="path1"></span>
                        <span class="path2"></span>
                    </i>
                {{/ checked }}
            </span>
        </a>
        <form id="edit-mode-toggle" action="{{{legacyseturl}}}" method="post" class="d-none">
            <div class="input-group">
                <label class="mr-2 mb-0 {{#checked}}text-primary{{/checked}}" for="{{uniqid}}-editingswitch">
                    {{#str}} editmode {{/str}}
                </label>
                <div class="custom-control custom-switch">
                    <input type="checkbox"{{!
                        }} name="setmode"{{!
                        }}{{#checked}}{{!
                            }} checked{{!
                        }}{{/checked}}{{!
                        }} class="custom-control-input"{{!
                        }} id="{{uniqid}}-editingswitch"{{!
                        }} data-context="{{{pagecontextid}}}"{{!
                        }} data-pageurl="{{{pageurl}}}"{{!
                    }}>
                    <span class="custom-control-label">&nbsp;</span>
                </div>
            </div>
            <input type="hidden" name="sesskey" value="{{{sesskey}}}">
            <input type="hidden" name="pageurl" value="{{{pageurl}}}">
            <input type="hidden" name="context" value="{{{pagecontextid}}}">
            <noscript>
                <input type="submit" value="{{#str}}setmode, core{{/str}}">
            </noscript>
        </form>
    </div>
</div>

{{#js}}
require(['core/edit_switch'], function(editSwitch) {
    editSwitch.init('{{uniqid}}-editingswitch');
});
{{/js}}
